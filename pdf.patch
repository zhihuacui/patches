diff -urN app/vendor/dompdf/dompdf/lib/Cpdf.php app_new/vendor/dompdf/dompdf/lib/Cpdf.php
--- app/vendor/dompdf/dompdf/lib/Cpdf.php	2024-04-29 07:01:28.000000000 +0000
+++ app_new/vendor/dompdf/dompdf/lib/Cpdf.php	2024-12-10 01:56:19.461478202 +0000
@@ -5636,6 +5636,7 @@
      */
     protected function addImagePngAlpha($file, $x, $y, $w, $h, $byte)
     {
+        $start = \Drupal\Component\Utility\Timer::read('PDF');
         // generate images
         $img = @imagecreatefrompng($file);
 
@@ -5816,6 +5817,8 @@
         $this->addImagePng($imgplain, $tempfile_plain, $x, $y, $w, $h, false, ($tempfile_alpha !== null));
         imagedestroy($imgplain);
         $this->imageCache[] = $tempfile_plain;
+        $end = \Drupal\Component\Utility\Timer::read('PDF');
+        \Drupal\utwp_pdf_export\Controller\PdfExportController::$timer['TotalAddImagePngAlphaElapseTime'] += ($end-$start);
     }
 
     /**
diff -urN app/vendor/dompdf/dompdf/src/Image/Cache.php app_new/vendor/dompdf/dompdf/src/Image/Cache.php
--- app/vendor/dompdf/dompdf/src/Image/Cache.php	2024-04-29 07:01:28.000000000 +0000
+++ app_new/vendor/dompdf/dompdf/src/Image/Cache.php	2024-12-10 01:56:19.491479010 +0000
@@ -47,7 +47,7 @@
     public static $broken_image = "data:image/svg+xml;charset=utf8,%3C?xml version='1.0'?%3E%3Csvg width='64' height='64' xmlns='http://www.w3.org/2000/svg'%3E%3Cg%3E%3Crect stroke='%23666666' id='svg_1' height='60.499994' width='60.166667' y='1.666669' x='1.999998' stroke-width='1.5' fill='none'/%3E%3Cline stroke-linecap='null' stroke-linejoin='null' id='svg_3' y2='59.333253' x2='59.749916' y1='4.333415' x1='4.250079' stroke-width='1.5' stroke='%23999999' fill='none'/%3E%3Cline stroke-linecap='null' stroke-linejoin='null' id='svg_4' y2='59.999665' x2='4.062838' y1='3.750342' x1='60.062164' stroke-width='1.5' stroke='%23999999' fill='none'/%3E%3C/g%3E%3C/svg%3E";
 
     public static $error_message = "Image not found or type unknown";
-    
+
     /**
      * Resolve and fetch an image for use.
      *
@@ -62,11 +62,14 @@
      */
     static function resolve_url($url, $protocol, $host, $base_path, Options $options)
     {
+        //\Drupal\utwp_pdf_export\Controller\PdfExportController::$timer[] = $url;
+        //\Drupal\utwp_pdf_export\Controller\PdfExportController::$timer[] = \Drupal\Component\Utility\Timer::read('PDF');
+        $start = \Drupal\Component\Utility\Timer::read('PDF');
         $tempfile = null;
         $resolved_url = null;
         $type = null;
         $message = null;
-        
+
         try {
             $full_url = Helpers::build_url($protocol, $host, $base_path, $url);
 
@@ -77,7 +80,7 @@
             $parsed_url = Helpers::explode_url($full_url);
             $protocol = strtolower($parsed_url["protocol"]);
             $is_data_uri = strpos($protocol, "data:") === 0;
-            
+
             if (!$is_data_uri) {
                 $allowed_protocols = $options->getAllowedProtocols();
                 if (!array_key_exists($protocol, $allowed_protocols)) {
@@ -158,7 +161,7 @@
                                 if (empty($inner_full_url)) {
                                     continue;
                                 }
-                                
+
                                 self::detectCircularRef($full_url, $inner_full_url);
                                 self::$svgRefs[$full_url][] = $inner_full_url;
                                 [$resolved_url, $type, $message] = self::resolve_url($url, $parsed_url["protocol"], $parsed_url["host"], $parsed_url["path"], $options);
@@ -170,7 +173,7 @@
                     },
                     false
                 );
-        
+
                 if (($fp = fopen($resolved_url, "r")) !== false) {
                     while ($line = fread($fp, 8192)) {
                         xml_parse($parser, $line, false);
@@ -190,7 +193,9 @@
             Helpers::record_warnings($e->getCode(), $e->getMessage() . " \n $url", $e->getFile(), $e->getLine());
             self::$_cache[$full_url] = $resolved_url;
         }
-
+        //\Drupal\utwp_pdf_export\Controller\PdfExportController::$timer[] = \Drupal\Component\Utility\Timer::read('PDF');
+        $end = \Drupal\Component\Utility\Timer::read('PDF');
+        \Drupal\utwp_pdf_export\Controller\PdfExportController::$timer['TotalDownloadImageElapseTime'] += ($end - $start);
         return [$resolved_url, $type, $message];
     }
 
diff -urN app/web/modules/custom/utwp_pdf_export/src/Controller/PdfExportController.php app_new/web/modules/custom/utwp_pdf_export/src/Controller/PdfExportController.php
--- app/web/modules/custom/utwp_pdf_export/src/Controller/PdfExportController.php	2024-12-10 01:57:02.532637295 +0000
+++ app_new/web/modules/custom/utwp_pdf_export/src/Controller/PdfExportController.php	2024-12-10 01:56:20.571508164 +0000
@@ -14,6 +14,7 @@
  */
 class PdfExportController extends ControllerBase {
 
+  public static $timer = [];
   const PDP_WINDSHIELD = "0";
   const PDP_CUSTOMER = "1";
   const PDP_VENDOR = "2";
@@ -27,6 +28,7 @@
    * Generating the pdf file to download.
    */
   public function getPdfTemplate() {
+    \Drupal\Component\Utility\Timer::start('PDF');
     $query = \Drupal::request()->query->all();
 
     $pdfTemplate = '';
@@ -102,8 +104,8 @@
     }
     if (!empty($htmlElement)) {
       $html = \Drupal::service('renderer')->render($htmlElement);
-      $pdfExportUtility->convertHtmltoPdf($html, $name, $paper_size,
-        $orientation);
+      \Drupal\utwp_pdf_export\Controller\PdfExportController::$timer['html_generated'] =  \Drupal\Component\Utility\Timer::read('PDF');
+      $pdfExportUtility->convertHtmltoPdf($html, $name, $paper_size, $orientation);
       return [];
     }
     else {
diff -urN app/web/modules/custom/utwp_pdf_export/src/Utility/PdfExportUtility.php app_new/web/modules/custom/utwp_pdf_export/src/Utility/PdfExportUtility.php
--- app/web/modules/custom/utwp_pdf_export/src/Utility/PdfExportUtility.php	2024-12-10 01:57:02.532637295 +0000
+++ app_new/web/modules/custom/utwp_pdf_export/src/Utility/PdfExportUtility.php	2024-12-10 01:56:20.571508164 +0000
@@ -15,6 +15,7 @@
 use Drupal\utwp_dao\Country\CountryDao;
 use Drupal\utwp_multicountry\DomainUtwpUtility;
 use Drupal\utwp_pdf_export\Controller\PdfExportController;
+use Symfony\Component\VarDumper\VarDumper;
 
 /**
  * Class PdfExportUtility.
@@ -196,6 +197,9 @@
       }
       $config = \Drupal::config('utwp.config');
       $copyright = $config->get('copyright');
+      //$vehicleHtml = preg_replace('/<!--.+-->\\n/U', '', $vehicleHtml);
+      //$vehicleHtml = preg_replace('/<img.+>\\n/U', '', $vehicleHtml);
+      //echo($vehicleHtml);
       $htmlElement = [
         '#theme' => $pdfTemplate,
         '#vehicle' => $vehicleHtml,
@@ -292,6 +296,7 @@
     $paper_size,
     $orientation
   ) {
+    \Drupal\utwp_pdf_export\Controller\PdfExportController::$timer['startConvertHtmltoPdf'] = \Drupal\Component\Utility\Timer::read('PDF');
     $themeHandler = \Drupal::service('theme_handler');
     $chrootPaths = [
       $themeHandler->getTheme($themeHandler->getDefault())->getPath(),
@@ -313,9 +318,16 @@
     $options->setIsHtml5ParserEnabled(TRUE);
     $dompdf = new Dompdf($options);
     $dompdf->loadHtml($html);
+    \Drupal\utwp_pdf_export\Controller\PdfExportController::$timer['AfterLoadHtml'] = \Drupal\Component\Utility\Timer::read('PDF');
     $dompdf->setPaper($paper_size, $orientation);
     $dompdf->render();
+    \Drupal\utwp_pdf_export\Controller\PdfExportController::$timer['AfterRender'] = \Drupal\Component\Utility\Timer::read('PDF');
+    //file_put_contents('/tmp/' . time() . '.pdf', $dompdf->output());
     $dompdf->stream($name, ["Attachment" => FALSE]);
+    \Drupal\utwp_pdf_export\Controller\PdfExportController::$timer['end'] = \Drupal\Component\Utility\Timer::read('PDF');
+    ob_start();
+    VarDumper::dump(\Drupal\utwp_pdf_export\Controller\PdfExportController::$timer);
+    file_put_contents(\Drupal::root() . '/sites/default/files/pdf-gen-report.html' ,ob_get_clean() . "<details><xmp>" . $html . "</xmp></details>");
     exit();
   }
 
diff -urN app/web/modules/custom/utwp_pdf_export/templates/pdp_customer.html.twig app_new/web/modules/custom/utwp_pdf_export/templates/pdp_customer.html.twig
--- app/web/modules/custom/utwp_pdf_export/templates/pdp_customer.html.twig	2024-12-10 01:56:57.342497947 +0000
+++ app_new/web/modules/custom/utwp_pdf_export/templates/pdp_customer.html.twig	2024-12-10 01:56:20.571508164 +0000
@@ -7,8 +7,8 @@
 <header>
     <div class="wrap-header">
         <div class="header-left">
-            <img src="./{{ directory }}/assets/img/logo.png" alt="Renault Trucks" height="50">
-            <img class="utwp-logo" src="./{{ directory }}/assets/img/utwp-pdf.png" alt="Used Trucks by Renault Trucks"
+            <img src="./{{ directory }}/assets/img/logo_50.png" alt="Renault Trucks" height="50">
+            <img class="utwp-logo" src="./{{ directory }}/assets/img/utwp-pdf_60.png" alt="Used Trucks by Renault Trucks"
                  height="60">
         </div>
         <div class="header-right">
@@ -56,7 +56,7 @@
         </p>
     </div>
     <div class="footer-right">
-        <img class="utwp-logo-footer" src="./{{ directory }}/assets/img/utwp-pdf.png" alt="Used Trucks by Renault Trucks"
+        <img class="utwp-logo-footer" src="./{{ directory }}/assets/img/utwp-pdf_40.png" alt="Used Trucks by Renault Trucks"
              height="40">
         <p class="copyright"> copyright &copy; {{ copyright }} </p>
     </div>
